---
phase: 02-animation-foundation
plan: 02
type: execute
wave: 2
depends_on: ["02-01"]
files_modified:
  - src/components/ui/button.tsx
  - src/components/ui/skeleton.tsx
  - src/components/ui/page-transition.tsx
  - src/app/globals.css
autonomous: true
must_haves:
  truths:
    - "User sees instant scale + color feedback when pressing buttons"
    - "User sees shimmer animation while content loads"
    - "User sees smooth fade transitions between pages"
  artifacts:
    - path: "src/components/ui/button.tsx"
      provides: "Enhanced press feedback with color shift"
      contains: "active:"
    - path: "src/components/ui/skeleton.tsx"
      provides: "Shimmer loading animation"
      contains: "shimmer"
    - path: "src/components/ui/page-transition.tsx"
      provides: "Fade transition wrapper component"
      exports: ["PageTransition"]
  key_links:
    - from: "button.tsx"
      to: "globals.css"
      via: "animation classes"
      pattern: "animate-"
    - from: "skeleton.tsx"
      to: "globals.css"
      via: "shimmer animation"
      pattern: "animate-shimmer"
---

<objective>
Implement visual feedback for buttons, enhanced skeleton loading states, and page transition component.

Purpose: These micro-interactions make the app feel responsive and polished. Users should feel instant feedback on every tap.
Output: Enhanced button component, shimmer skeleton, and reusable page transition wrapper.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plan summary (provides color/glass foundation):
@.planning/phases/02-animation-foundation/02-01-SUMMARY.md

# Source files to enhance:
@src/components/ui/button.tsx
@src/components/ui/skeleton.tsx
@src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Enhance button press feedback</name>
  <files>src/components/ui/button.tsx, src/app/globals.css</files>
  <action>
Enhance the button component for richer press feedback:

1. In button.tsx, update the base classes in buttonVariants cva():
   - Keep existing `active:scale-[0.97]`
   - Add `active:brightness-95` for color dimming on press
   - Add `transition-all duration-150` for smooth feedback

2. For the default variant specifically:
   - Add a subtle glow on hover: `hover:shadow-[0_0_15px_-3px_hsl(var(--primary)/0.4)]`
   - Keep existing hover opacity change

3. In globals.css, add a subtle bounce keyframe for optional use:
```css
@keyframes pressIn {
  0% { transform: scale(1); }
  50% { transform: scale(0.96); }
  100% { transform: scale(1); }
}

.animate-press {
  animation: pressIn 0.15s ease-out;
}
```

Do NOT change the variant structure or sizes - only enhance feedback states.
  </action>
  <verify>npm run build succeeds, clicking buttons shows visible scale + brightness change</verify>
  <done>Buttons have instant scale + color feedback on press, subtle glow on hover</done>
</task>

<task type="auto">
  <name>Task 2: Upgrade skeleton to shimmer animation</name>
  <files>src/components/ui/skeleton.tsx, src/app/globals.css</files>
  <action>
Replace the basic pulse animation with a modern shimmer effect:

1. In globals.css, the shimmer animation already exists. Verify it uses:
```css
.animate-shimmer {
  background: linear-gradient(
    90deg,
    hsl(var(--muted)) 0%,
    hsl(var(--muted) / 0.5) 50%,
    hsl(var(--muted)) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}
```

2. In skeleton.tsx, update the base Skeleton component:
   - Replace `animate-pulse` with `animate-shimmer`
   - Keep rounded-md and bg-muted as fallback base styles
   - The shimmer gradient will override the solid bg-muted when animation runs

3. Keep all existing skeleton variants (TaskListSkeleton, ChartSkeleton, StatCardSkeleton) - they will automatically use the new shimmer.

Do NOT change the skeleton structure or sizes - only the animation class.
  </action>
  <verify>npm run build succeeds, loading states show moving shimmer effect</verify>
  <done>All skeleton components display shimmer animation instead of static pulse</done>
</task>

<task type="auto">
  <name>Task 3: Create page transition component</name>
  <files>src/components/ui/page-transition.tsx, src/app/globals.css</files>
  <action>
Create a reusable page transition wrapper component:

1. Create src/components/ui/page-transition.tsx:
```typescript
'use client'

import { useEffect, useState } from 'react'
import { cn } from '@/lib/utils'

interface PageTransitionProps {
  children: React.ReactNode
  className?: string
}

export function PageTransition({ children, className }: PageTransitionProps) {
  const [mounted, setMounted] = useState(false)

  useEffect(() => {
    setMounted(true)
  }, [])

  return (
    <div
      className={cn(
        'transition-all duration-300 ease-out',
        mounted ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-2',
        className
      )}
    >
      {children}
    </div>
  )
}
```

2. In globals.css, add a page fade variant if not present:
```css
@keyframes pageFadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-page-in {
  animation: pageFadeIn 0.3s ease-out forwards;
}
```

The component uses CSS transitions (not keyframe animations) so it respects will-change and is GPU-accelerated.
  </action>
  <verify>npm run build succeeds, component exports correctly</verify>
  <done>PageTransition component created, provides subtle fade+slide on mount</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npm run lint` passes
- [ ] Buttons show visible feedback on tap/click
- [ ] Skeletons show shimmer animation
- [ ] PageTransition component exports without type errors
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Visual feedback feels instant and responsive
- No performance regressions (animations are GPU-accelerated)
  </success_criteria>

<output>
After completion, create `.planning/phases/02-animation-foundation/02-02-SUMMARY.md`
</output>
