---
phase: 02-animation-foundation
plan: 03
type: execute
wave: 3
depends_on: ["02-01", "02-02"]
files_modified:
  - src/app/globals.css
autonomous: false
must_haves:
  truths:
    - "User with prefers-reduced-motion sees minimal/no animations"
    - "User with normal motion preference sees full animations"
    - "No accessibility regressions from animation changes"
  artifacts:
    - path: "src/app/globals.css"
      provides: "Comprehensive reduced-motion support"
      contains: "prefers-reduced-motion"
  key_links:
    - from: "globals.css prefers-reduced-motion"
      to: "all animation classes"
      via: "CSS media query override"
      pattern: "@media.*prefers-reduced-motion"
---

<objective>
Add comprehensive prefers-reduced-motion support and verify visual quality of all Phase 2 work.

Purpose: Accessibility is non-negotiable. Users who prefer reduced motion should have a usable experience without jarring animations.
Output: Complete reduced-motion handling, user-verified visual quality.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
@~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plan summaries:
@.planning/phases/02-animation-foundation/02-01-SUMMARY.md
@.planning/phases/02-animation-foundation/02-02-SUMMARY.md

# Source file to update:
@src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Comprehensive reduced-motion support</name>
  <files>src/app/globals.css</files>
  <action>
Expand the existing `@media (prefers-reduced-motion: reduce)` block to cover ALL animations added in this phase.

Find the existing reduced-motion media query (around line 328) and replace/expand it to:

```css
/* ============================================
   REDUCED MOTION ACCESSIBILITY
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  /* Disable all custom animations */
  .animate-celebrate,
  .animate-glow,
  .animate-confetti,
  .animate-slide-up,
  .animate-fade-in,
  .animate-scale-in,
  .animate-checkmark,
  .animate-button-press,
  .animate-pulse,
  .animate-slide-in-right,
  .animate-shimmer,
  .animate-press,
  .animate-page-in {
    animation: none !important;
  }

  /* Disable transitions except color changes */
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Keep subtle hover states for feedback */
  button:hover,
  a:hover {
    transition: color 0.15s ease, background-color 0.15s ease;
  }

  /* Skeleton shows static background instead of shimmer */
  .animate-shimmer {
    background: hsl(var(--muted)) !important;
    background-size: 100% 100% !important;
  }

  /* Page transition shows instantly */
  .transition-all {
    transition: none !important;
  }
}
```

This ensures:
1. All animations are disabled
2. Essential visual feedback (color changes) still works
3. Skeletons show as static gray (still indicates loading)
4. Page content appears instantly
  </action>
  <verify>In browser DevTools, enable "Emulate CSS prefers-reduced-motion" and verify animations don't play</verify>
  <done>All animations respect prefers-reduced-motion, page still fully functional without motion</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete Phase 2 animation foundation: vibrant colors, glass utilities, button feedback, shimmer skeletons, page transitions, and reduced-motion support</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Visit: http://localhost:3000

    **Color Vibrancy:**
    3. Look at primary buttons - colors should feel more vibrant/saturated than before
    4. Switch between blue/pink themes in settings - both should feel bold

    **Button Feedback:**
    5. Tap/click any button - should see instant scale + slight brightness change
    6. Hover over buttons on desktop - should see subtle glow

    **Skeleton Loading:**
    7. Hard refresh the page (Ctrl+Shift+R) - watch the loading skeletons
    8. Should see moving shimmer effect (not just pulsing gray)

    **Page Transitions:**
    9. Navigate between pages (Vandaag, Inzichten, Taken)
    10. Content should fade in smoothly

    **Reduced Motion (Accessibility):**
    11. In browser DevTools: More tools > Rendering > Emulate CSS prefers-reduced-motion: reduce
    12. Refresh and verify: No animations play, buttons still show hover feedback, skeletons are static gray
    13. Disable emulation when done

    **Glass Utilities (for Phase 3+ use):**
    14. In DevTools, add class "glass" to any card element
    15. Should see backdrop-blur effect (frosted glass look)
  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] All animations disabled when prefers-reduced-motion is enabled
- [ ] User verified visual quality of all Phase 2 features
- [ ] No accessibility regressions
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- User approved visual quality
- Phase 2 requirements satisfied: ANIM-01, ANIM-02, ANIM-03, ANIM-04, VISUAL-01
  </success_criteria>

<output>
After completion, create `.planning/phases/02-animation-foundation/02-03-SUMMARY.md`
</output>
