---
phase: 05-polish-consistency
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/backgrounds/animated-background.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "User sees subtle animated gradient orbs floating behind content on authenticated pages"
    - "Orb colors match current theme (blue/pink schemes)"
    - "Dark mode shows dimmer orbs than light mode"
  artifacts:
    - path: "src/components/backgrounds/animated-background.tsx"
      provides: "Theme-aware animated orb background with inline HSL colors"
      contains: "backgroundColor"
  key_links:
    - from: "animated-background.tsx"
      to: "useTheme"
      via: "colorScheme for color selection"
      pattern: "colorScheme"
---

<objective>
Fix animated background orbs not visible due to Tailwind JIT purging dynamic color classes.

Purpose: Close UAT gap - users currently see no background orbs because Tailwind CSS cannot detect dynamically accessed class names (e.g., `colors.orb1` → `'bg-blue-400'`) during static analysis, causing all orb background colors to be purged from the final CSS bundle.

Output: Visible, animated gradient orbs using inline HSL styles instead of Tailwind color classes.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/05-polish-consistency/05-01-SUMMARY.md
@.planning/phases/05-polish-consistency/05-UAT.md
@.planning/debug/animated-orbs-not-visible.md

@src/components/backgrounds/animated-background.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace Tailwind color classes with inline HSL styles</name>
  <files>src/components/backgrounds/animated-background.tsx</files>
  <action>
Replace the dynamic Tailwind color classes with inline HSL color styles that work at runtime.

Current broken pattern:
```tsx
const orbColors = {
  blue: { orb1: 'bg-blue-400', ... },
  pink: { orb1: 'bg-pink-400', ... },
}
// ❌ Tailwind purges these - can't detect 'bg-blue-400' from colors.orb1
className={`... ${colors.orb1} ...`}
```

Fixed pattern using inline styles:
```tsx
const orbColors = {
  blue: {
    orb1: 'hsl(217, 91%, 60%)',   // blue-400
    orb2: 'hsl(239, 84%, 67%)',   // indigo-400
    orb3: 'hsl(188, 95%, 43%)',   // cyan-400
  },
  pink: {
    orb1: 'hsl(330, 81%, 60%)',   // pink-400
    orb2: 'hsl(292, 91%, 73%)',   // fuchsia-400
    orb3: 'hsl(350, 89%, 60%)',   // rose-400
  },
}
// ✅ Inline styles always work
style={{ backgroundColor: colors.orb1, opacity: baseOpacity }}
```

Steps:
1. Update `orbColors` object to use HSL color values instead of Tailwind class names
2. Remove `${colors.orb*}` from className strings for each orb
3. Add `backgroundColor: colors.orb*` to each orb's style prop (merge with existing opacity)
4. Keep all other classes (position, size, blur, animation) in className

HSL values for Tailwind colors (from Tailwind's default palette):
- blue-400: hsl(217, 91%, 60%)
- indigo-400: hsl(239, 84%, 67%)
- cyan-400: hsl(188, 95%, 43%)
- pink-400: hsl(330, 81%, 60%)
- fuchsia-400: hsl(292, 91%, 73%)
- rose-400: hsl(350, 89%, 60%)
  </action>
  <verify>
1. npm run build succeeds
2. npm run lint passes
3. Grep for "backgroundColor" in animated-background.tsx to confirm inline styles
4. Grep for "bg-blue-400" in animated-background.tsx returns NO results
  </verify>
  <done>AnimatedBackground uses inline HSL styles for orb colors instead of purged Tailwind classes</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npm run lint` passes
- [ ] No Tailwind color classes in AnimatedBackground className props
- [ ] All orbs have backgroundColor in style prop
- [ ] HSL values match Tailwind's color palette
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Orb background colors render correctly at runtime
- Theme switching still works (blue/pink HSL values used correctly)
- Dark mode opacity adjustment still works
</success_criteria>

<output>
After completion, create `.planning/phases/05-polish-consistency/05-03-SUMMARY.md`
</output>
