# Requirements Archive: v1.4 App Experience

**Archived:** 2026-01-31
**Status:** ✅ SHIPPED

This is the archived requirements specification for v1.4.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: HabitStreak v1.4

**Defined:** 2026-01-27
**Core Value:** Make every interaction feel rewarding

## v1.4 Requirements

Requirements for App Experience milestone. Each maps to roadmap phases.

### Platform Detection

- [x] **PLAT-01**: App detects iOS Safari vs Chromium browsers
- [x] **PLAT-02**: App detects standalone/PWA mode (already installed)
- [x] **PLAT-03**: App captures beforeinstallprompt event globally (prevents timing race)

### Install Banner

- [x] **BANR-01**: Landing page shows install banner for non-installed visitors
- [x] **BANR-02**: In-app pages show install banner for logged-in users
- [x] **BANR-03**: Banner displays platform-appropriate messaging (iOS vs Android)
- [x] **BANR-04**: Banner has dismiss button that hides permanently
- [x] **BANR-05**: Banner hidden when app already installed (standalone mode)

### iOS Walkthrough

- [x] **IOS-01**: "Show me how" button opens visual walkthrough modal
- [x] **IOS-02**: Walkthrough shows step-by-step iOS Add to Home Screen process
- [x] **IOS-03**: Walkthrough uses Dutch text consistent with app

### Android Install

- [x] **ANDR-01**: Install button triggers native beforeinstallprompt dialog
- [x] **ANDR-02**: Install button disabled/hidden if prompt not available

### Dismissal Persistence

- [x] **DISM-01**: Dismissed state stored in localStorage
- [x] **DISM-02**: Dismissal persists across sessions permanently
- [x] **DISM-03**: Dismissal is per-device (not per-user)

### Settings Fallback

- [x] **SETT-01**: Settings page shows "Install app" button
- [x] **SETT-02**: Settings button available even after banner dismissed
- [x] **SETT-03**: Settings button triggers platform-appropriate action (prompt or walkthrough)

## Future Requirements

Deferred to later milestones.

### Analytics

- **ANAL-01**: Track install prompt impressions
- **ANAL-02**: Track install success rate
- **ANAL-03**: Track dismissal rate

### Enhanced UX

- **ENH-01**: Re-prompt after streak milestones (for dismissed users)
- **ENH-02**: Install success celebration animation

## Out of Scope

| Feature | Reason |
|---------|--------|
| Push notifications prompt | Separate concern, high complexity |
| Install analytics | No analytics infrastructure yet |
| Re-prompting dismissed users | User requested permanent dismissal |
| Custom install success screen | Native browser handles this |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| PLAT-01 | Phase 13 | Complete |
| PLAT-02 | Phase 13 | Complete |
| PLAT-03 | Phase 13 | Complete |
| BANR-01 | Phase 14 | Complete |
| BANR-02 | Phase 15 | Complete |
| BANR-03 | Phase 14 | Complete |
| BANR-04 | Phase 14 | Complete |
| BANR-05 | Phase 13 | Complete |
| IOS-01 | Phase 14 | Complete |
| IOS-02 | Phase 14 | Complete |
| IOS-03 | Phase 14 | Complete |
| ANDR-01 | Phase 14 | Complete |
| ANDR-02 | Phase 14 | Complete |
| DISM-01 | Phase 13 | Complete |
| DISM-02 | Phase 13 | Complete |
| DISM-03 | Phase 13 | Complete |
| SETT-01 | Phase 15 | Complete |
| SETT-02 | Phase 15 | Complete |
| SETT-03 | Phase 15 | Complete |

**Coverage:**
- v1.4 requirements: 19 total
- Mapped to phases: 19
- Unmapped: 0 ✓

---

## Milestone Summary

**Shipped:** 19 of 19 v1.4 requirements
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-01-31 as part of v1.4 milestone completion*
